# Register详解

``` php
<?php

declare(strict_types=1);

use Xielei\Swoole\Register;

require_once __DIR__ . '/vendor/autoload.php';

$register = new Register('127.0.0.1', 9327, '123456');

// 设置服务端参数 参考:http://wiki.swoole.com/#/server/setting
$register->set([
    'log_file' => __DIR__ . '/log/register.log',
    'stats_file' => __DIR__ . '/log/register.stats.log',
]);

$register->start();

```

Register工作职责：

1. Gateway上线下线的时候，将新的Gateway连接地址推送给Worker
2. Worker上线得时候，将Gateway连接地址推送给Worker
3. 可通过命令对Gateway和Worker进行管理，比如重启

Register是Gateway上线和下线的时候的事件广播员，仅仅当Gateway上线下线的时候通知到Worker，系统正常运行的时候，即便是Register服务关闭，也不会影响系统正常运行。

另外，还可以通过Register向Gateway或者Worker发送命令，例如重启、重载、查看运行状态等等
